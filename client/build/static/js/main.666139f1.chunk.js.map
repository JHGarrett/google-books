{"version":3,"sources":["components/Jumbotron.js","components/Nav/index.js","components/SearchCard.js","components/SearchResult.js","components/BookItemCard.js","components/SaveResult.js","utils/API.js","pages/Books.js","App.js","index.js"],"names":["Jumbotron","react_default","a","createElement","className","Nav","href","SearchCard","props","onSubmit","onClick","type","value","onChange","placeholder","required","SearchResult","_ref","children","BookItemCard","src","thumbnail","alt","title","style","width","author","description","role","window","location","pathname","data-index","index","save","delete","SavedResult","API","searchBooks","query","axios","get","getSavedBooks","deleteBook","id","saveBook","bookKey","bookData","post","Books","state","results","savedBooks","bookSearch","handleSearch","event","preventDefault","_this","then","res","setState","data","items","catch","err","console","log","handleInputChange","target","handleSave","bookIndex","attributes","getNamedItem","volumeInfo","link","previewLink","imageLinks","authors","key","length","handleDelete","_id","reload","_this2","this","_this3","components_SearchCard","components_SearchResult","map","book","i","components_BookItemCard","SaveResult","Component","App","react_router_dom","components_Nav","components_Jumbotron","react_router","exact","path","component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.666139f1.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nfunction Jumbotron() {\r\n  return (\r\n    <div className=\"container mt-3 text-center\">\r\n      <div className=\"jumbotron jumbotron-fluid bg-info\">\r\n        <h1 className=\"display-4 font-weight-bold text-white\">\r\n          Google Books Search\r\n        </h1>\r\n        <h3 className=\"font-weight-bold text-white\">\r\n          Search for and Save Books that you like.\r\n        </h3>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Jumbotron;\r\n","import React from \"react\";\r\nimport \"./style.css\";\r\n\r\nfunction Nav() {\r\n  return (\r\n    <nav className=\"nav navbar-expand-lg navbar-dark\">\r\n      <a className=\"nav-link text-info\" href=\"/\">\r\n        <h3>Google Books</h3>\r\n      </a>\r\n      <a className=\"nav-link mt-2 text-info\" href=\"/\">\r\n        Search\r\n      </a>\r\n      <a className=\"nav-link mt-2 text-info\" href=\"/saved\">\r\n        Saved\r\n      </a>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Nav;\r\n","import React from \"react\";\r\n\r\nfunction SearchCard(props) {\r\n  return (\r\n    <div className=\"container mt-3\">\r\n      <div className=\"card\">\r\n        <h5 className=\"card-header\">Book Search</h5>\r\n        <div className=\"card-body\">\r\n          <form onSubmit={props.onClick}>\r\n            <div className=\"form-group\">\r\n              <label>Book</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                value={props.value}\r\n                onChange={props.onChange}\r\n                placeholder=\"Example: Harry Potter\"\r\n                required\r\n              />\r\n            </div>\r\n            <button className=\"btn btn-sm float-right btn-info\" type=\"submit\">\r\n              Search\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchCard;\r\n","import React from \"react\";\r\n\r\nfunction SearchResult({ children }) {\r\n  return (\r\n    <div className=\"container mt-3\">\r\n      <div className=\"card\">\r\n        <h5 className=\"card-header\">Results</h5>\r\n        <div className=\"card-body\">{children}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchResult;\r\n","import React from \"react\";\r\n\r\nfunction BookItemCard(props) {\r\n  return (\r\n    <div className=\"card mb-3\">\r\n      <div className=\"row no-gutters\">\r\n        <div className=\"col\">\r\n          <img\r\n            src={props.thumbnail}\r\n            className=\"card-img\"\r\n            alt={props.title}\r\n            style={{ width: \"200px\" }}\r\n          />\r\n        </div>\r\n        <div className=\"col-md-8\">\r\n          <div className=\"card-body\">\r\n            <h5 className=\"card-title\">{props.title}</h5>\r\n            <p className=\"card-text\">Written By: {props.author}</p>\r\n            <p className=\"card-text\">Desc: {props.description}</p>\r\n          </div>\r\n          <a\r\n            href={props.href}\r\n            className=\"btn btn-primary\"\r\n            role=\"button\"\r\n          >\r\n            View\r\n          </a>\r\n          {window.location.pathname === \"/\" ? (\r\n            <span\r\n              data-index={props.index}\r\n              className=\"save btn btn-success\"\r\n              onClick={props.save}\r\n            >\r\n              Save\r\n            </span>\r\n          ) : (\r\n            <span\r\n              data-index={props.index}\r\n              className=\"delete btn btn-danger\"\r\n              onClick={props.delete}\r\n            >\r\n              Delete\r\n            </span>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BookItemCard;\r\n","import React from \"react\";\r\n\r\nfunction SavedResult({ children }) {\r\n  return (\r\n    <div className=\"container mt-3\">\r\n      <div className=\"card\">\r\n        <h5 className=\"card-header\">Saved Results</h5>\r\n        <div className=\"card-body\">{children}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SavedResult;\r\n","import axios from \"axios\";\r\n\r\nexport default {\r\n  // call to the Google Book API when searching for a book\r\n  searchBooks: function(query) {\r\n    return axios.get(\"https://www.googleapis.com/books/v1/volumes?q=\" + query);\r\n  },\r\n\r\n  // display the saved books from our database\r\n  getSavedBooks: function() {\r\n    return axios.get(\"/api/books/saved\");\r\n  },\r\n  // delete a saved book from our database\r\n  deleteBook: function(id) {\r\n    return axios.delete(\"/api/books/delete/\" + id);\r\n  },\r\n\r\n  // save the book in our database\r\n  saveBook: function(bookKey, bookData) {\r\n    return axios.post(\"/api/books/\" + bookKey, bookData);\r\n  }\r\n};\r\n","import React, { Component } from \"react\";\r\nimport SearchCard from \"../components/SearchCard\";\r\nimport SearchResult from \"../components/SearchResult\";\r\nimport BookItemCard from \"../components/BookItemCard\";\r\nimport SaveCard from \"../components/SaveResult\";\r\nimport API from \"../utils/API\";\r\n\r\nclass Books extends Component {\r\n  state = {\r\n    results: [],\r\n    savedBooks: [],\r\n    bookSearch: \"\"\r\n  };\r\n\r\n  componentDidMount() {\r\n    API.getSavedBooks().then(res => {\r\n      this.setState({\r\n        savedBooks: res.data\r\n      });\r\n    });\r\n  }\r\n\r\n  //On Button click for searching books\r\n  handleSearch = event => {\r\n    event.preventDefault();\r\n\r\n    if (this.state.bookSearch) {\r\n      API.searchBooks(this.state.bookSearch)\r\n        .then(\r\n          res =>\r\n            this.setState({\r\n              results: res.data.items\r\n            })\r\n          // console.log(\"reesponse\", res.data.items)\r\n        )\r\n        .catch(err => console.log(err));\r\n    }\r\n  };\r\n\r\n  handleInputChange = event => {\r\n    const value = event.target.value;\r\n\r\n    this.setState({\r\n      bookSearch: value\r\n    });\r\n  };\r\n\r\n  handleSave = event => {\r\n    const bookIndex = event.target.attributes.getNamedItem(\"data-index\").value;\r\n    const saveBook = this.state.results[bookIndex];\r\n    console.log(saveBook);\r\n\r\n    const bookData = {\r\n      title: saveBook.volumeInfo.title,\r\n      link: saveBook.volumeInfo.previewLink,\r\n      thumbnail: saveBook.volumeInfo.imageLinks.thumbnail,\r\n      author: saveBook.volumeInfo.authors[0],\r\n      description: saveBook.volumeInfo.description,\r\n      key: saveBook.id\r\n    };\r\n\r\n    API.saveBook(bookData.key, bookData).then(\r\n      API.getSavedBooks().then(res => {\r\n        this.setState({\r\n          savedBooks: res.data\r\n        });\r\n        console.log(\"In state\", this.state.savedBooks);\r\n        console.log(\"Length\", this.state.savedBooks.length);\r\n      })\r\n    );\r\n  };\r\n\r\n  handleDelete = event => {\r\n    const bookIndex = event.target.attributes.getNamedItem(\"data-index\").value;\r\n    const deleteBook = this.state.savedBooks[bookIndex];\r\n    console.log(deleteBook._id);\r\n\r\n    API.deleteBook(deleteBook._id).then(window.location.reload());\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {window.location.pathname === \"/\" ? (\r\n          <div>\r\n            <SearchCard\r\n              value={this.state.bookSearch}\r\n              onChange={this.handleInputChange}\r\n              onClick={this.handleSearch}\r\n            />\r\n\r\n            <SearchResult>\r\n              {this.state.results.length ? (\r\n                this.state.results.map((book, i) => {\r\n                  return (\r\n                    <BookItemCard\r\n                      key={book.id}\r\n                      title={book.volumeInfo.title}\r\n                      author={\r\n                        book.volumeInfo.authors\r\n                          ? book.volumeInfo.authors[0]\r\n                          : \"Anonymous\"\r\n                      }\r\n                      href={book.volumeInfo.previewLink}\r\n                      thumbnail={\r\n                        book.volumeInfo.imageLinks\r\n                          ? book.volumeInfo.imageLinks.thumbnail\r\n                          : \"http://blogs.smithsonianmag.com/design/files/2013/03/smiley-face-1.jpg\"\r\n                      }\r\n                      description={book.volumeInfo.description}\r\n                      save={this.handleSave}\r\n                      index={i}\r\n                    />\r\n                  );\r\n                })\r\n              ) : (\r\n                <h3>No Results to Display</h3>\r\n              )}\r\n            </SearchResult>\r\n          </div>\r\n        ) : (\r\n          <SaveCard>\r\n            {this.state.savedBooks.length ? (\r\n              this.state.savedBooks.map((book, i) => {\r\n                return (\r\n                  <BookItemCard\r\n                    key={book._id}\r\n                    title={book.title}\r\n                    author={book.author}\r\n                    href={book.link}\r\n                    thumbnail={\r\n                      book.thumbnail\r\n                        ? book.thumbnail\r\n                        : \"http://blogs.smithsonianmag.com/design/files/2013/03/smiley-face-1.jpg\"\r\n                    }\r\n                    description={book.description}\r\n                    delete={this.handleDelete}\r\n                    index={i}\r\n                  />\r\n                );\r\n              })\r\n            ) : (\r\n              <h3>No Saved Books</h3>\r\n            )}\r\n          </SaveCard>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Books;\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport Jumbotron from \"./components/Jumbotron\";\r\nimport NavBar from \"./components/Nav\";\r\nimport Books from \"./pages/Books\";\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <div>\r\n        <NavBar />\r\n        <Jumbotron />\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Books} />\r\n          <Route exact path=\"/saved\" component={Books} />\r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}